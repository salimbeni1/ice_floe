<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Ice Floe simulation</title>
	<meta name="author" content="Salimbeni Etienne">

	<link rel="stylesheet" href="style.css">
</head>
<body style="padding: 10%;">

<!-- libraries import -->
<script src="lib/gl-matrix_3.2.1/gl-matrix.js" defer="true"></script>
<script src="lib/regl_1.3.13/regl.js" defer="true"></script> <!-- not minified, because we want shader error messages -->
<script src="src/icg_web.js" defer="true"></script>
<script src="src/icg_math.js" defer="true"></script>
<script src="src/icg_mesh.js" defer="true"></script>
<script src="src/icg_screenshot.js" defer="true"></script>



<!-- our implementation -->
<script src="src/noise.js" defer="true"></script>
<script src="src/bezierCurves.js" defer="true"></script>
<script src="src/main_textures.js" defer="true"></script>
<script src="src/terrain.js" defer="true"></script>
<script src="src/main_terrain.js" defer="true"></script>





<main>

<center>
	<h1> ICG Project : Ice Floe </h1>
	<h3> Etienne Salimbeni - Samuel Dietz </h3>
</center>


<h2> Overview </h2>

<p>
	We generate a procedural ice crack texture using a Voronoi diagram
	and material parameters including a basic Phong shader.
	We also make use of Bezier curves to move the light and the texture, and use a
	Perlin Noise to simulate impurities on the ice's surface.

</p>

<hr class="new1">
&nbsp;
&nbsp;






<h2> Textures </h2>


<div>
	<p style="text-align: center"> click and drag with mouse, scroll to zoom </p>
	<canvas id="textures" style="width: 30%;  display: block;  margin-left: auto; margin-right: auto;"></canvas>
</div>
<ul id="variants"></ul>
<pre id="debug-text"></pre>

<hr class="new1">
&nbsp;
&nbsp;


<h2> Simulation </h2>

<p style="text-align: center"> click and drag with mouse, scroll to zoom </p>
<div>
	<canvas id="simulation" style="width: 50%;  display: block;  margin-left: auto; margin-right: auto;"></canvas>
</div>

&nbsp;

<center>

	<div style="color: azure; z-index: 100;display: flex; flex-direction: row; width: 100%;">

		Zoom: 
	<input type="range" min="0.2" max="2" value="0.7" class="slider" step="0.01" id="zoomRange">
	
		Snow:
	<div> 
			<input type="range" min="0" max="1" value="0" class="slider" step="0.01" id="snowRange1">
			<input type="range" min="0" max="1" value="0" class="slider" step="0.01" id="snowRange2">
	</div>
		
		Reflect:
	<input type="range" min="0" max="1" value="0.05" class="slider" step="0.01" id="reflectRange">
	
		Refract:
	<input type="range" min="0" max="1" value="0.0" class="slider" step="0.01" id="refractRange">
  </div>
  
  <p>
  <span id="btn-preset-view" class="button">Preset simulation view <strong class="keyboard">c</strong></span>
  <span id="bezier-light" class="Nbutton">Light source's Bezier curve <strong class="keyboard">b</strong></span>
  <span id="bezier-texture" class="Nbutton">Texture's Bezier curve <strong class="keyboard">n</strong></span>

  </p>

</center>



<h2> Implementation</h2>

<center>
	<a href="report.pdf">

		<h1> implementation report Link </h1>

	</a>
</center>


<h2> Division of work </h2>

<h3> Etienne </h3>

<ul>
	<li> setup 2D and 3D environment : <br>
		 I mainly adapt assignment 7
	</li>
	<br>
	<li> test different types of Worley noise : <br>
		 euclidian - manhatan - different types of distortion - etc ...
	</li>
	<br>
	<li> Parallax effect : <br>
		 implemented first not to cast shadows but the deepness of the ice (with camera positon instead of light),
		 I then switch to light , because the effect was much more appealing.
	</li>
	<br>
	<li> Cube map , reflect/refract : <br>
		 here regl.js gallery was my best friend
	</li>
	<br>
	<li> normal map for craks and surface : <br>
		 It was hard to find a good noise for the surface roughness, and how not to make both normal map smoother.
	</li>
	<br>	 
	<li> Bezier curves : <br>
		 I first implemented in processing (the repport bezier curves figures are made with it),
		 then exported to JS.
	</li>
	<br>
	<li> Snow :<br>
		 very hard to make realistic , and I do not consider it our result a success , I tried to smooth the snow blending
		 it on the surface , but could not give it a natural look. 
	</li>
	<br>
	<li> writing implementation report <br>
	
	</li>
</ul>


<h3> Samuel </h3>


  
<hr class="new1">
&nbsp;
&nbsp;









<div id="debug-overlay">

	<pre id="debug-text"></pre>
	<div id="video-container"></div>

</div>


</main>

</body>
</html>

